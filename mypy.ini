[mypy]
# Python version
python_version = 3.12

# Django plugin
plugins = mypy_django_plugin.main

# Strict but practical: only check type hints where they exist
# Ignore errors in files without annotations
ignore_missing_imports = True
warn_unused_ignores = False
warn_return_any = False

# Don't fail on untyped code (legacy files)
# Only enforce where type hints are present
check_untyped_defs = False
disallow_untyped_defs = False

# Allow implicit Optional (e.g. def f(x: int = None))
no_implicit_optional = False

# Show error codes for easier suppression
show_error_codes = True

# Exclude test files and migrations from strict checking
exclude = (
    core/tests/|
    core/migrations/|
    manage\.py
)

[mypy.plugins.django-stubs]
django_settings_module = config.settings
